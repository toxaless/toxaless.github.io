<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>ssssvoboda</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scroll-behavior: smooth;
            font-family: Arial, Helvetica, sans-serif;
        }

        body {
            background: #000;
            color: white;
            overflow-x: hidden;
        }

        /* ===== HERO ===== */

        .hero {
            height: 100vh;
            padding-top: 80px; /* примерно высота панели */
            background: url('fon.png') center center / cover no-repeat;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: scale(1.05);
            transition: opacity 1.2s ease, transform 1.2s ease;
        }

        .hero.loaded {
            opacity: 1;
            transform: scale(1);
        }

        .hero::after {
            content: "";
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.5);
        }

        nav {
            position: fixed; /* фиксируем навигацию */
            top: 0;          /* сверху страницы */
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 50px;
            z-index: 999;    /* чтобы была выше всего */
            padding: 20px 0; /* немного отступа сверху и снизу */
            background: rgba(0, 0, 0, 0.8); /* полупрозрачный фон для читаемости */
            opacity: 0;
            transform: translateY(-20px);
            transition: opacity 1s ease 0.8s, transform 1s ease 0.8s;
        }

        .hero.loaded nav {
            opacity: 1;
            transform: translateY(0);
        }

        nav a {
            text-decoration: none;
            color: white;
            font-size: 16px;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: 0.3s;
        }

        nav a:hover {
            opacity: 0.6;
        }

        .title {
            position: relative;
            z-index: 2;
            font-size: 80px;
            letter-spacing: 10px;
            text-transform: lowercase;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1s ease 0.5s, transform 1s ease 0.5s;
        }

        .hero.loaded .title {
            opacity: 1;
            transform: translateY(0);
        }

        /* ===== SECTIONS ===== */

        section {
            min-height: 100vh;
            padding: 120px 10% 0 10%; /* сверху 120px уже учитывает фикс. панель */
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        section h2 {
            font-size: 40px;
            margin-bottom: 40px;
        }

        #about { background: #111; }
        #playlists { background: #181818; }
        #gallery { background: #111; }
        #contact { background: #181818; }

        /* GRID */

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .grid div {
            background: #333;
            height: 200px;
        }

        /* CONTACT */

        .contact-links a {
            display: block;
            margin-bottom: 15px;
            color: white;
            text-decoration: none;
            font-size: 18px;
        }

        .contact-links a:hover {
            opacity: 0.7;
        }

        /* ADAPTIVE */

        @media (max-width: 768px) {
            .title {
                font-size: 40px;
                text-align: center;
            }

            nav {
                gap: 20px;
            }

            nav a {
                font-size: 14px;
            }
        }

    </style>
</head>
<body>

<!-- HERO -->
<div class="hero">
    <nav>
        <a href="#about">Обо мне</a>
        <a href="#playlists">Плейлисты</a>
        <a href="#gallery">Галерея</a>
        <a href="#contact">Контакты</a>
    </nav>

    <div class="title">ssssvoboda</div>
</div>

<!-- ABOUT -->
<section id="about">
    <h2>Обо мне</h2>
    <p>Описание твоего стиля, выступлений и атмосферы.</p>
</section>

<!-- PLAYLISTS -->
<section id="playlists">
    <h2 style="font-size:42px; margin-bottom:15px;">Плейлисты</h2>
    <p style="
        color: #ddd;
        font-size: 22px;
        font-weight: 600;
        margin-bottom:40px;
        letter-spacing: 1px;
    ">Последний микс - SDVG12</p>

    <div class="accordion-container" style="max-width:900px; display:flex; flex-direction:column; gap:20px;">

        <!-- Spotify -->
        <div class="playlist-block">
            <div class="playlist-header">
                Spotify <span class="arrow">&#9660;</span>
            </div>
            <div class="playlist-content" style="max-height:0px;">
                <iframe class="playlist-widget"
                    src="https://open.spotify.com/embed/playlist/6aX9Y8JoMo8hIAQckYqHVX?utm_source=generator"
                    frameborder="0"
                    allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                    loading="lazy">
                </iframe>
            </div>
        </div>

        <!-- Яндекс Музыка -->
        <div class="playlist-block">
            <div class="playlist-header">
                Яндекс Музыка <span class="arrow">&#9654;</span>
            </div>
            <div class="playlist-content" style="max-height:0;">
                <iframe class="playlist-widget"
                    frameborder="0"
                    allow="clipboard-write"
                    src="https://music.yandex.ru/iframe/playlist/music-blog/2616">
                </iframe>
            </div>
        </div>

        <!-- VK Музыка -->
        <div class="playlist-block">
            <div class="playlist-header">
                VK Музыка <span class="arrow">&#9654;</span>
            </div>
            <div class="playlist-content" style="max-height:0;">
                <div id="vk_playlist_-147845620_3248" class="playlist-widget"></div>
            </div>
        </div>

    </div>

    <!-- Ссылка внизу -->
    <div style="margin-top:25px;">
        <a href="playlists.html" style="
            color: #fff;
            text-decoration: underline;
            font-weight: 600;
            font-size: 18px;
            letter-spacing: 1px;
            transition: 0.3s;
        " onmouseover="this.style.opacity='0.7';" onmouseout="this.style.opacity='1';">
            Все плейлисты
        </a>
    </div>

    <!-- VK API -->
    <script type="text/javascript" src="https://vk.com/js/api/openapi.js?173"></script>
    <script type="text/javascript">
    (function() {
        VK.Widgets.Playlist("vk_playlist_-147845620_1216", -147845620, 1216,'c1bb61f8a167291fa6');
        VK.Widgets.Playlist("vk_playlist_-147845620_3248", -147845620, 3248,'ebdeb9b0339ef25913');

        const headers = document.querySelectorAll('.playlist-header');
        headers.forEach(header => {
            const arrow = header.querySelector('.arrow');
            const content = header.nextElementSibling;

            header.style.cursor = 'pointer';
            header.addEventListener('click', () => {
                const isOpen = content.style.maxHeight !== "0px" && content.style.maxHeight !== "";
                if(isOpen) {
                    content.style.maxHeight = "0";
                    arrow.innerHTML = "&#9654;";
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                    arrow.innerHTML = "&#9660;";
                }
            });
        });

        // Раскрываем первый блок Spotify после полной загрузки
        window.addEventListener('load', () => {
            setTimeout(() => {
                const firstContent = document.querySelector('.playlist-block:first-child .playlist-content');
                const firstArrow = document.querySelector('.playlist-block:first-child .playlist-header .arrow');
                firstContent.style.maxHeight = firstContent.scrollHeight + "px";
                firstArrow.innerHTML = "&#9660;";
            }, 100);
        });
    }());
    </script>

    <style>
        .playlist-block {
            display: flex;
            flex-direction: column;
        }

        .playlist-header {
            font-size: 20px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #fff;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            padding: 10px 0;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .playlist-content {
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .playlist-widget {
            width: 100%;
            max-width: 800px;
            height: 400px;
            border-radius: 12px;
            border: none;
        }

        @media (max-width: 768px) {
            .playlist-widget {
                height: 350px;
            }
            .playlist-header {
                font-size: 18px;
            }
            p {
                font-size: 20px;
            }
        }

        .arrow {
            transition: transform 0.3s ease;
        }
    </style>
</section>

<!-- GALLERY -->
<section id="gallery">
    <h2>Галерея</h2>

    <div class="gallery-wrapper">
        <button class="nav prev">&#10094;</button>

        <div class="gallery-track">
            <img src="gallery/pic1.jpg" alt="Фото 1">
            <img src="gallery/pic2.jpg" alt="Фото 2">
            <img src="gallery/pic3.jpg" alt="Фото 3">
            <img src="gallery/pic4.jpg" alt="Фото 4">
            <img src="gallery/pic5.webp" alt="Фото 5">
            <img src="gallery/pic6.jpeg" alt="Фото 6">
            <img src="gallery/pic7.jpeg" alt="Фото 7">
        </div>

        <button class="nav next">&#10095;</button>
    </div>
</section>

<!-- FULLSCREEN VIEW -->
<div id="lightbox">
    <button class="lightbox-nav lightbox-prev">&#10094;</button>
    <img class="lightbox-img">
    <button class="lightbox-nav lightbox-next">&#10095;</button>
    <span class="close">&times;</span>
</div>

<style>
#gallery {
    text-align: center;
    padding: 40px 20px;
}

.gallery-wrapper {
    position: relative;
    overflow: hidden;
    touch-action: pan-y;
}

.gallery-track {
    display: flex;
    gap: 20px;
    padding: 20px;
    transition: transform 0.4s ease;
    touch-action: pan-y;
}

.gallery-track img {
    max-height: 400px;
    width: auto; /* без обрезки */
    cursor: pointer;
    border-radius: 10px;
    flex-shrink: 0;
}

/* Кнопки */
.nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0,0,0,0.5);
    color: white;
    border: none;
    font-size: 30px;
    cursor: pointer;
    padding: 10px 15px;
    border-radius: 50%;
    z-index: 2;
}

.prev { left: 10px; }
.next { right: 10px; }

/* Lightbox */
#lightbox {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    justify-content: center;
    align-items: center;
    z-index: 9999;
}

.lightbox-img {
    max-width: 95%;
    max-height: 95%;
}

.lightbox-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255, 255, 255, 0.041);
    border: none;
    color: white;
    font-size: 50px;
    cursor: pointer;
    padding: 10px 20px;
    border-radius: 50%;
    z-index: 10000;
}

.lightbox-prev { left: 30px; }
.lightbox-next { right: 30px; }

.lightbox-nav:hover {
    background: rgba(255,255,255,0.4);
}

.close {
    position: absolute;
    top: 20px;
    right: 40px;
    font-size: 50px;
    color: white;
    cursor: pointer;
}
</style>

<script>
const track = document.querySelector('.gallery-track');
const images = document.querySelectorAll('.gallery-track img');
const next = document.querySelector('.next');
const prev = document.querySelector('.prev');

let index = 0;

/* ====== ОБЫЧНАЯ ГАЛЕРЕЯ ====== */

function updateGallery() {
    const imageWidth = images[0].offsetWidth + 20;
    track.style.transform = `translateX(-${index * imageWidth}px)`;
}

next.addEventListener('click', () => {
    index++;
    if (index >= images.length) index = 0;
    updateGallery();
});

prev.addEventListener('click', () => {
    index--;
    if (index < 0) index = images.length - 1;
    updateGallery();
});

/* СВАЙП НА СТРАНИЦЕ */
let startX = 0;
let endX = 0;

track.addEventListener('touchstart', e => {
    startX = e.touches[0].clientX;
});

track.addEventListener('touchend', e => {
    endX = e.changedTouches[0].clientX;
    handleSwipe();
});

function handleSwipe() {
    const diff = startX - endX;

    if (Math.abs(diff) > 50) {
        if (diff > 0) {
            index++;
            if (index >= images.length) index = 0;
        } else {
            index--;
            if (index < 0) index = images.length - 1;
        }
        updateGallery();
    }
}

/* ====== LIGHTBOX ====== */

const lightbox = document.getElementById('lightbox');
const lightboxImg = document.querySelector('.lightbox-img');
const closeBtn = document.querySelector('.close');
const lightboxPrev = document.querySelector('.lightbox-prev');
const lightboxNext = document.querySelector('.lightbox-next');

let currentImageIndex = 0;

function showImage(i) {
    if (i >= images.length) i = 0;
    if (i < 0) i = images.length - 1;
    currentImageIndex = i;
    lightboxImg.src = images[currentImageIndex].src;
}

images.forEach((img, i) => {
    img.addEventListener('click', () => {
        lightbox.style.display = 'flex';
        showImage(i);
    });
});

lightboxNext.addEventListener('click', e => {
    e.stopPropagation();
    showImage(currentImageIndex + 1);
});

lightboxPrev.addEventListener('click', e => {
    e.stopPropagation();
    showImage(currentImageIndex - 1);
});

/* СВАЙП В LIGHTBOX */
let lbStartX = 0;
let lbEndX = 0;

lightbox.addEventListener('touchstart', e => {
    lbStartX = e.touches[0].clientX;
});

lightbox.addEventListener('touchend', e => {
    lbEndX = e.changedTouches[0].clientX;
    const diff = lbStartX - lbEndX;

    if (Math.abs(diff) > 50) {
        if (diff > 0) {
            showImage(currentImageIndex + 1);
        } else {
            showImage(currentImageIndex - 1);
        }
    }
});

closeBtn.addEventListener('click', () => {
    lightbox.style.display = 'none';
});

lightbox.addEventListener('click', e => {
    if (e.target === lightbox) {
        lightbox.style.display = 'none';
    }
});
</script>

<!-- CONTACT -->
<section id="contact">
    <h2>Контакты</h2>
    <div class="contact-links">
        <a href="#">Instagram</a>
        <a href="#">Telegram</a>
        <a href="#">Email</a>
    </div>
</section>

<!-- JS -->
<script>
    window.onload = function() {
        window.scrollTo(0, 0);
        document.querySelector('.hero').classList.add('loaded');
    };
</script>

<!-- Кнопка прокрутки вверх -->
<button id="scrollTopBtn" title="Наверх">
    <span class="arrow-up"></span>
</button>

<style>
#scrollTopBtn {
    position: fixed;
    bottom: 20px;
    left: 20px;
    z-index: 1000;
    width: 50px;
    height: 50px;
    background: rgba(0,0,0,0.8);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.4s ease;
}

/* Стрелка вверх */
.arrow-up {
    width: 12px;
    height: 12px;
    border-left: 3px solid white;
    border-bottom: 3px solid white;
    transform: rotate(135deg);
    display: inline-block;
}

/* Псевдокласс для наведения */
#scrollTopBtn:hover {
    background: rgba(0,0,0,1);
}
</style>

<script>
// Кнопка
const scrollTopBtn = document.getElementById("scrollTopBtn");

// Показать/скрыть кнопку при прокрутке
window.addEventListener('scroll', () => {
    if (window.scrollY > 200) {
        scrollTopBtn.style.opacity = 1;
    } else {
        scrollTopBtn.style.opacity = 0;
    }
});

// Плавная прокрутка наверх
scrollTopBtn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
});
</script>

</body>
</html>