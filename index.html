<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>ssssvoboda</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="title.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scroll-behavior: smooth;
            font-family: 'Nunito-SemiBoldItalic', Arial, Helvetica, sans-serif;
        }

                /* Подключение шрифта Feather Bold (.ttf) */
        @font-face {
            font-family: 'Nunito-SemiBoldItalic';
            src: url('fonts/Nunito-SemiBoldItalic.ttf') format('truetype');
            font-weight: bold;
            font-style: normal;
            font-display: swap;
        }

        body {
            background: #000;
            color: white;
            overflow-x: hidden;
        }

        /* ===== HERO ===== */

        .hero {
            height: 100vh;
            padding-top: 80px;
            background: url('fon.jpg') center center / cover no-repeat;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: scale(1.05);
            transition: opacity 1.2s ease, transform 1.2s ease;
        }

        .hero.loaded {
            opacity: 1;
            transform: scale(1);
        }

        .hero::after {
            content: "";
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.5);
        }

        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 50px;
            z-index: 999;
            padding: 20px 0;
            background: rgba(0, 0, 0, 0.8);
            opacity: 0;
            transform: translateY(-20px);
            transition: opacity 1s ease 0.8s, transform 1s ease 0.8s;
        }

        .hero.loaded nav {
            opacity: 1;
            transform: translateY(0);
        }

        nav a {
            text-decoration: none;
            color: white;
            font-size: 16px;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: 0.3s;
        }

        nav a:hover {
            opacity: 0.6;
        }

        .title {
            position: relative;
            z-index: 2;
            font-size: 80px;
            letter-spacing: 10px;
            text-transform: lowercase;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1s ease 0.5s, transform 1s ease 0.5s;
        }

        .hero.loaded .title {
            opacity: 1;
            transform: translateY(0);
        }

        /* ===== SECTIONS ===== */

        section {
            min-height: 100vh;
            padding: 120px 10% 0 10%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        section h2 {
            font-size: 40px;
            margin-bottom: 40px;
        }

        #about { background: #111; }
        #playlists { background: #181818; }
        #gallery { background: #111; }
        #contact { background: #181818; }

        /* CONTACT */

        .contact-links a {
            display: block;
            margin-bottom: 15px;
            color: white;
            text-decoration: none;
            font-size: 18px;
        }

        .contact-links a:hover {
            opacity: 0.7;
        }

        /* ADAPTIVE */

        @media (max-width: 768px) {
            .title {
                font-size: 40px;
                text-align: center;
            }

            nav {
                gap: 20px;
            }

            nav a {
                font-size: 14px;
            }
        }

        /* ===== НОВАЯ ГАЛЕРЕЯ ===== */

        .gallery-container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px 0;
        }

        /* Сетка превью */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .gallery-item {
            position: relative;
            aspect-ratio: 1/1;
            overflow: hidden;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover {
            transform: scale(1.02);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        /* Стили для элемента "Смотреть все" */
        .gallery-item.show-all {
            position: relative;
        }

        .gallery-item.show-all img {
            filter: blur(5px);
            transition: filter 0.3s ease;
        }

        .gallery-item.show-all:hover img {
            filter: blur(3px);
        }

        .show-all-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            z-index: 2;
            pointer-events: none;
        }

        .show-all-overlay span {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .show-all-overlay p {
            font-size: 18px;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        @media (max-width: 768px) {
            .show-all-overlay span {
                font-size: 36px;
            }
            
            .show-all-overlay p {
                font-size: 14px;
            }
        }

        /* Лайтбокс */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .lightbox.active {
            display: flex;
            opacity: 1;
        }

        .lightbox-content {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-image-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }

        .lightbox-image-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            user-select: none;
            transition: transform 0.3s ease;
        }

        /* Навигационные кнопки */
        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            color: white;
            transition: all 0.3s ease;
            z-index: 10001;
        }

        .lightbox-nav:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .lightbox-nav.prev {
            left: 30px;
        }

        .lightbox-nav.next {
            right: 30px;
        }

        /* Кнопка закрытия */
        .lightbox-close {
            position: absolute;
            top: 30px;
            right: 40px;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            color: white;
            transition: all 0.3s ease;
            z-index: 10001;
        }

        .lightbox-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        /* Счетчик изображений */
        .lightbox-counter {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 16px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 10001;
        }

        @media (max-width: 768px) {
            .lightbox-image-container {
                padding: 20px;
            }
            
            .lightbox-nav {
                width: 50px;
                height: 50px;
                font-size: 24px;
            }
            
            .lightbox-nav.prev {
                left: 15px;
            }
            
            .lightbox-nav.next {
                right: 15px;
            }
            
            .lightbox-close {
                top: 20px;
                right: 20px;
                width: 45px;
                height: 45px;
                font-size: 26px;
            }
        }

        /* Анимация перетаскивания */
        .lightbox-image-container.dragging img {
            transition: none;
            cursor: grabbing;
        }

        /* Затемнение фона при закрытии */
        .lightbox.closing {
            opacity: 0;
        }
    </style>
</head>
<body>

<!-- HERO -->
<div class="hero">
    <nav>
        <a href="#about">Обо мне</a>
        <a href="#playlists">Плейлисты</a>
        <a href="#gallery">Галерея</a>
        <a href="#contact">Контакты</a>
    </nav>
    <div class="title">ssssvoboda</div>
</div>

<!-- ABOUT -->
<section id="about">
    <h2>Обо мне</h2>
    <p>Описание твоего стиля, выступлений и атмосферы.</p>
</section>

<!-- PLAYLISTS -->
<section id="playlists">
    <h2 style="font-size:42px; margin-bottom:15px;">Плейлисты</h2>
    <p style="color: #ddd; font-size: 22px; font-weight: 600; margin-bottom:40px; letter-spacing: 1px;">Последний микс - SDVG12</p>

    <div class="accordion-container" style="max-width:900px; display:flex; flex-direction:column; gap:20px;">
        <!-- Spotify -->
        <div class="playlist-block">
            <div class="playlist-header">
                Spotify <span class="arrow">&#9660;</span>
            </div>
            <div class="playlist-content" style="max-height:0px;">
                <iframe class="playlist-widget" src="https://open.spotify.com/embed/playlist/6aX9Y8JoMo8hIAQckYqHVX?utm_source=generator" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
            </div>
        </div>

        <!-- Яндекс Музыка -->
        <div class="playlist-block">
            <div class="playlist-header">
                Яндекс Музыка <span class="arrow">&#9654;</span>
            </div>
            <div class="playlist-content" style="max-height:0;">
                <iframe class="playlist-widget" frameborder="0" allow="clipboard-write" src="https://music.yandex.ru/iframe/playlist/music-blog/2616"></iframe>
            </div>
        </div>

        <!-- VK Музыка -->
        <div class="playlist-block">
            <div class="playlist-header">
                VK Музыка <span class="arrow">&#9654;</span>
            </div>
            <div class="playlist-content" style="max-height:0;">
                <div id="vk_playlist_-147845620_3248" class="playlist-widget"></div>
            </div>
        </div>
    </div>

    <!-- Ссылка внизу -->
    <div style="margin-top:25px;">
        <a href="playlists.html" style="color: #fff; text-decoration: underline; font-weight: 600; font-size: 18px; letter-spacing: 1px; transition: 0.3s;" onmouseover="this.style.opacity='0.7';" onmouseout="this.style.opacity='1';">Все плейлисты</a>
    </div>

    <!-- VK API -->
    <script type="text/javascript" src="https://vk.com/js/api/openapi.js?173"></script>
    <script type="text/javascript">
    (function() {
        VK.Widgets.Playlist("vk_playlist_-147845620_1216", -147845620, 1216,'c1bb61f8a167291fa6');
        VK.Widgets.Playlist("vk_playlist_-147845620_3248", -147845620, 3248,'ebdeb9b0339ef25913');

        const headers = document.querySelectorAll('.playlist-header');
        headers.forEach(header => {
            const arrow = header.querySelector('.arrow');
            const content = header.nextElementSibling;

            header.style.cursor = 'pointer';
            header.addEventListener('click', () => {
                const isOpen = content.style.maxHeight !== "0px" && content.style.maxHeight !== "";
                if(isOpen) {
                    content.style.maxHeight = "0";
                    arrow.innerHTML = "&#9654;";
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                    arrow.innerHTML = "&#9660;";
                }
            });
        });

        window.addEventListener('load', () => {
            setTimeout(() => {
                const firstContent = document.querySelector('.playlist-block:first-child .playlist-content');
                const firstArrow = document.querySelector('.playlist-block:first-child .playlist-header .arrow');
                firstContent.style.maxHeight = firstContent.scrollHeight + "px";
                firstArrow.innerHTML = "&#9660;";
            }, 100);
        });
    }());
    </script>

    <style>
        .playlist-block {
            display: flex;
            flex-direction: column;
        }

        .playlist-header {
            font-size: 20px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #fff;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            padding: 10px 0;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .playlist-content {
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .playlist-widget {
            width: 100%;
            max-width: 800px;
            height: 400px;
            border-radius: 12px;
            border: none;
        }

        @media (max-width: 768px) {
            .playlist-widget {
                height: 350px;
            }
            .playlist-header {
                font-size: 18px;
            }
        }

        .arrow {
            transition: transform 0.3s ease;
        }
    </style>
</section>

<!-- ГАЛЕРЕЯ -->
<section id="gallery">
    <h2>Галерея</h2>
    <div class="gallery-container">
        <div class="gallery-grid" id="galleryGrid">
            <!-- Галерея будет заполнена через JavaScript -->
        </div>
    </div>
</section>

<!-- ЛАЙТБОКС -->
<div class="lightbox" id="lightbox">
    <div class="lightbox-content">
        <button class="lightbox-nav prev" id="lightboxPrev">&#10094;</button>
        <button class="lightbox-nav next" id="lightboxNext">&#10095;</button>
        <button class="lightbox-close" id="lightboxClose">&times;</button>
        
        <div class="lightbox-image-container" id="lightboxImageContainer">
            <img src="" alt="" id="lightboxImage">
        </div>
        
        <div class="lightbox-counter" id="lightboxCounter"></div>
    </div>
</div>

<!-- CONTACT -->
<section id="contact">
    <h2>Контакты</h2>
    <div class="contact-links">
        <a href="#">Instagram</a>
        <a href="#">Telegram</a>
        <a href="#">Email</a>
    </div>
</section>

<!-- Кнопка прокрутки вверх -->
<button id="scrollTopBtn" title="Наверх">
    <span class="arrow-up"></span>
</button>

<style>
    #scrollTopBtn {
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 1000;
        width: 50px;
        height: 50px;
        background: rgba(0,0,0,0.8);
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.4s ease;
    }

    .arrow-up {
        width: 12px;
        height: 12px;
        border-left: 3px solid white;
        border-bottom: 3px solid white;
        transform: rotate(135deg);
        display: inline-block;
    }

    #scrollTopBtn:hover {
        background: rgba(0,0,0,1);
    }
</style>

<!-- JS -->
<script>
    // ВСЕ изображения (полный список)
    const allGalleryImages = [
        'gallery/pic1.jpg',
        'gallery/pic2.jpg',
        'gallery/pic3.jpg',
        'gallery/pic4.jpg',
        'gallery/pic5.webp',
        'gallery/pic6.jpeg',
        'gallery/pic7.jpeg',
        'gallery/pic8.jpg',
        'gallery/pic9.jpg',
        'gallery/pic10.jpg',
        'gallery/pic11.jpg',
    ];

    // Первые 5 изображений для превью
    const previewImages = allGalleryImages.slice(0, 6);

    // Создание сетки галереи
    const galleryGrid = document.getElementById('galleryGrid');

    // Добавляем первые 5 фото
    previewImages.forEach((src, index) => {
        const item = document.createElement('div');
        item.className = 'gallery-item';
        item.innerHTML = `<img src="${src}" alt="Gallery image ${index + 1}" loading="lazy">`;
        item.addEventListener('click', () => openLightbox(index));
        galleryGrid.appendChild(item);
    });

    // Добавляем специальный элемент "Смотреть все"
    const showAllItem = document.createElement('div');
    showAllItem.className = 'gallery-item show-all';
    showAllItem.innerHTML = `
        <img src="${allGalleryImages[6]}" alt="Show all" style="filter: blur(5px);">
        <div class="show-all-overlay">
            <span>+${allGalleryImages.length - 6}</span>
            <p>смотреть все</p>
        </div>
    `;
    showAllItem.addEventListener('click', () => openLightbox(0));
    galleryGrid.appendChild(showAllItem);

    // Элементы лайтбокса
    const lightbox = document.getElementById('lightbox');
    const lightboxImage = document.getElementById('lightboxImage');
    const lightboxPrev = document.getElementById('lightboxPrev');
    const lightboxNext = document.getElementById('lightboxNext');
    const lightboxClose = document.getElementById('lightboxClose');
    const lightboxCounter = document.getElementById('lightboxCounter');
    const imageContainer = document.getElementById('lightboxImageContainer');

    let currentIndex = 0;
    let startX = 0;
    let isDragging = false;
    let currentTranslate = 0;

    // Открытие лайтбокса
    function openLightbox(index) {
        currentIndex = index;
        updateLightboxImage();
        lightbox.classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    // Закрытие лайтбокса
    function closeLightbox() {
        lightbox.classList.add('closing');
        setTimeout(() => {
            lightbox.classList.remove('active', 'closing');
            document.body.style.overflow = '';
        }, 300);
    }

    // Обновление изображения в лайтбоксе (используем ВСЕ изображения)
    function updateLightboxImage() {
        lightboxImage.src = allGalleryImages[currentIndex];
        lightboxImage.alt = `Image ${currentIndex + 1}`;
        lightboxCounter.textContent = `${currentIndex + 1} / ${allGalleryImages.length}`;
        lightboxImage.style.transform = 'translateX(0)';
    }

    // Переключение на предыдущее изображение
    function prevImage() {
        if (currentIndex > 0) {
            currentIndex--;
            updateLightboxImage();
        }
    }

    // Переключение на следующее изображение
    function nextImage() {
        if (currentIndex < allGalleryImages.length - 1) {
            currentIndex++;
            updateLightboxImage();
        }
    }

    // Обработчики событий для кнопок
    lightboxPrev.addEventListener('click', prevImage);
    lightboxNext.addEventListener('click', nextImage);
    lightboxClose.addEventListener('click', closeLightbox);

    // Закрытие по клику на фон
    lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) {
            closeLightbox();
        }
    });

    // Обработка клавиатуры
    document.addEventListener('keydown', (e) => {
        if (!lightbox.classList.contains('active')) return;
        
        switch(e.key) {
            case 'Escape':
                closeLightbox();
                break;
            case 'ArrowLeft':
                prevImage();
                break;
            case 'ArrowRight':
                nextImage();
                break;
        }
    });

    // Drag/Swipe для мобильных устройств
    imageContainer.addEventListener('pointerdown', (e) => {
        if (e.target === lightboxImage) {
            isDragging = true;
            startX = e.clientX;
            currentTranslate = 0;
            imageContainer.classList.add('dragging');
            lightboxImage.style.transition = 'none';
        }
    });

    imageContainer.addEventListener('pointermove', (e) => {
        if (!isDragging) return;
        
        const diff = e.clientX - startX;
        currentTranslate = diff;
        
        // Ограничиваем перетаскивание на границах
        if ((currentIndex === 0 && diff > 0) || (currentIndex === allGalleryImages.length - 1 && diff < 0)) {
            lightboxImage.style.transform = `translateX(${diff * 0.3}px)`;
        } else {
            lightboxImage.style.transform = `translateX(${diff}px)`;
        }
    });

    imageContainer.addEventListener('pointerup', (e) => {
        if (!isDragging) return;
        
        isDragging = false;
        imageContainer.classList.remove('dragging');
        lightboxImage.style.transition = 'transform 0.3s ease';
        
        const threshold = 100;
        
        if (currentTranslate < -threshold && currentIndex < allGalleryImages.length - 1) {
            // Свайп влево - следующее фото
            nextImage();
        } else if (currentTranslate > threshold && currentIndex > 0) {
            // Свайп вправо - предыдущее фото
            prevImage();
        } else {
            // Возвращаем на место
            lightboxImage.style.transform = 'translateX(0)';
        }
        
        currentTranslate = 0;
    });

    imageContainer.addEventListener('pointercancel', () => {
        isDragging = false;
        imageContainer.classList.remove('dragging');
        lightboxImage.style.transition = 'transform 0.3s ease';
        lightboxImage.style.transform = 'translateX(0)';
    });

    // Инициализация hero
    window.onload = function() {
        document.querySelector('.hero').classList.add('loaded');
    };

    // Кнопка прокрутки вверх
    const scrollTopBtn = document.getElementById("scrollTopBtn");

    window.addEventListener('scroll', () => {
        scrollTopBtn.style.opacity = window.scrollY > 200 ? 1 : 0;
    });

    scrollTopBtn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
</script>

</body>
</html>